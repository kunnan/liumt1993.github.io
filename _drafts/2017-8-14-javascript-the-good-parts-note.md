---
layout: post
title:  "《Javascript语言精粹》笔记"
date:   2017-8-1
categories: javascript
---

## 语法

### whitespace

whitespace通常没有意义，有时候需要用来分隔字符序列，例如：var a = 1，中的标识符var和a中间的空格。

### 注释

使用`//`来注释相对于用`/* */`来注释会更安全，因为可能会与正则表达式中的`*`一起产生问题。

个人觉得`/* */`这种方式分割区块会更清晰，而`//`专门用于句注释会更方便。

### 标识符

标识符被用于语句、变量、参数、属性名、运算符和标记(例如for循环标记)。不能使用JS的保留字命名变量、参数，使用点运算符来提取对象属性时，对象属性也不能用作保留字，不过使用`object[property]`提取时是可以的。

### 数字

JS 只有一种数字类型，基于 IEEE 754 标准的双精度64位二进制格式的值。由于 JS 没有分离出整数类型，所有在 JS 中 `1 === 1.0`

NaN 是一个数值，它标识一个不能产生正常结果的结果。NaN 不等于任何值，甚至是它自己。

### 字符串

JS中的字符串被包在一堆`''`或`""`当中，可以包含0到多个字符。

`\`反斜线符号是转义字符。`\`转义符用来转义一些不允许被直接插入到字符串中的字符，比如`/`、`'`、`"`、制表符等。

### 语句

语句：一段可执行的代码，并且不总有值

在 WEB 浏览器中，每个`<script>`标签都会提供一个被编译且立即执行的编译单元。一个编译单元包含一组可执行的语句。

编译单元就像是一个积木，通常用“链接器”来让他们一个个堆起来。但是在JS中缺少“链接器”，所以JS选择把所有编译单元都抛到一个公共的全局空间中，以达到“链接器”的效果。

JS语句通常是从上至下运行的。可以通过条件语句`if` `switch` 、循环语句 `while` `for` `do` 、 强制跳转语句 `break` `return` `throw` 和函数调用来改变执行序列。 

`while (expression) {block}`

`do {blcok} while(expression);`

`for (initalization;condition;increment) {block}`

`for (prop in property){block}`

`while`和`do`的区别是，`while`语句可能一次都不会执行，而`do`至少会执行一次。

`for in`语句可以用来枚举对象的属性。

JS不允许在`return`与表达式之间换行、不允许在`break`和标签之间换行。

`try {block} catch(name) {block}`

`throw(expression)`

`throw`语句可以抛出一个异常，如果`throw`语句在函数中使用，则该函数调用会被放弃，控制流跳转到调用该函数的try语句的catch语句中。

### 表达式

表达式：可以被求值的代码，并且总有结果

字符串、数字、变量、内置值、以`new`开头调用表达式、以`delete`开头的属性提取表达式、包在圆括号中的表达式、以一个前置运算符为前导的表达式...

JS中的表达式和运算符

#### 主要表达式

`this`： 指向函数的执行上下文。

`fuction`： 定义一个函数。

`class`： 定义一个类。

`super`： 调用父类的构造器。

`property accessprs` `.` `[]`： 访问对象属性或方法。

当我们提及一个对象的属性时，会对属性和方法之间做个对比。然而，属性和方法之间的区别并不大。一个方法就是一个可以被调用的属性而已。

`[]`： 数组字面量。

`{}`： 对象字面量。

`/ab+c/i`：正则字面量。

`()`： 用来控制表达式中的运算优先级，括号中表达式会求值并被返回。

#### 自增和自减运算符

`A++`：后置自增运算符，在递增前返回数值。

`++A`：前置自增运算符，在递增后返回数值。

`A--`：后置自减运算符，在递减前返回数值。

`--A`：前置自减运算符，在递减后返回数值。

#### 一元运算符

`delete`： 删除对象的属性。

`void`：对表达式进行求值，然后返回`undefined`。

`new`： 创建对象的实例，`new constructor[([arguments])]`。

`typeof`： 判断对象类型。

`+`： 一元加运算符，将操作值转换为数值，用这个符号可以转换非数值类型为数值。

`-`：一元减操作符，将操作值转换为Number类型并取反。

`~`：按位非操作符，对任一数值x进行按位非操作的结果为-(x + 1)，~5 的结果是 -6，和`indexOf`一起使用`~str.indexOf(searchFor)`。

`!`：逻辑非运算符

#### 算数运算符

`+`、`-`、`*`、`/`、`%`：加、减、乘、除、取模，加可以用于字符串拼接。

#### 关系运算符

`in`：判断对象是否用用给定属性。

`instanceof`：判断一个对象是否是另一个对象的实例。

`<`、`>`、`<=`、`>=`：小于、大于、小于等于、大于等于。

#### 逗号操作符

`,`：对它的每个操作数求值（从左到右），并返回最后一个操作数的值。`var`语句中的逗号并不是逗号操作符，它是`var`语句中的一个特殊符号，用于把多个变量声明结合成一个。

### 字面量

